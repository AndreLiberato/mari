"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_item-picker_index_ts-ui_packages_verified-fetch_verified-fetch_ts-ui_packages_git-a41878"],{25913:(e,l,a)=>{a.r(l),a.d(l,{default:()=>n});let t={kind:"InlineDataFragment",name:"ProjectPickerProject"};t.hash="e09e5594bd0a134c07d1a00480ae9ec9";let n=t},41459:(e,l,a)=>{a.r(l),a.d(l,{default:()=>n});let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"owner"},l={defaultValue:null,kind:"LocalArgument",name:"query"},a={defaultValue:null,kind:"LocalArgument",name:"repo"},t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],n={kind:"Literal",name:"first",value:5},r={kind:"Variable",name:"query",variableName:"query"},s=[n,r],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null}],u=[{kind:"InlineDataFragmentSpread",name:"ProjectPickerProject",selections:o,args:null,argumentDefinitions:[]}],d=[n],c=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:u,storageKey:null}],storageKey:null}],p={alias:null,args:d,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:c,storageKey:"recentProjects(first:5)"},m=[n,{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"TITLE"}},r],g=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:o,storageKey:null}],storageKey:null}],y={alias:null,args:d,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:g,storageKey:"recentProjects(first:5)"};return{fragment:{argumentDefinitions:[e,l,a],kind:"Fragment",metadata:null,name:"ProjectPickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:u,storageKey:null}],storageKey:null},p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:m,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:c,storageKey:null},p],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[p],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,l],kind:"Operation",name:"ProjectPickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:s,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:o,storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:m,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:g,storageKey:null},y],type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:[y],type:"User",abstractKey:null},i],storageKey:null},i],storageKey:null}]},params:{id:"b184107cb31da3c773184bedc5f94f27",metadata:{},name:"ProjectPickerQuery",operationKind:"query",text:null}}}();t.hash="f17c78cb363f3e53c97ec32ee7739bd5";let n=t},11448:(e,l,a)=>{a.r(l),a.d(l,{default:()=>n});let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"hasIssuesEnabled"},l={defaultValue:10,kind:"LocalArgument",name:"topRepositoriesFirst"},a={kind:"Variable",name:"hasIssuesEnabled",variableName:"hasIssuesEnabled"},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[a,{kind:"Variable",name:"topRepositoriesFirst",variableName:"topRepositoriesFirst"}],kind:"FragmentSpread",name:"RepositoryPickerTopRepositories"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"topRepositoriesFirst"},a,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}}],concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},{alias:null,args:null,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},t],storageKey:null}]},params:{id:"9a2a6a612e506cb86d81ad12b33a0df6",metadata:{},name:"RepositoryPickerTopRepositoriesQuery",operationKind:"query",text:null}}}();t.hash="d6cd77c6cc0f7b9d60b71062c6c62054";let n=t},27392:(e,l,a)=>{a.d(l,{Sg:()=>t,LM:()=>n,wS:()=>r.w,HB:()=>s});let t={couldNotUpdateAssignees:"Could not update assignees",couldNotSearchAssignees:"Could not search assignees",couldNotUpdateLabels:"Could not update labels",couldNotUpdateMilestone:"Could not update milestone",couldNotUpdateIssueType:"Could not update issue type",couldNotSearchRepositories:"Could not search repositories",couldNotSearchPullRequests:"Could not search pull requests",couldNotSearchProjects:"Could not search projects",couldNotSearchBranches:"Could not search branches",noMatches:"No matches",noResults:"No results",couldNotCreateBranch:"Could not create branch"},n={assigneePicker:"a",labelPicker:"l",milestonePicker:"m",projectPicker:"p",issueTypePicker:"i"};var r=a(47322);let s={labelsPageSize:100,labelsMaxPreloadCount:1e3,milestonesPageSize:100,milestonesMaxPreloadCount:1e3,organizationsMaxPreloadCount:1e3,organizationsPageSize:100,issueTypesPageSize:10,issueTypesMaxPreloadCount:10}},47322:(e,l,a)=>{a.d(l,{w:()=>t});let t={noAssignees:"Assignee",assignees:"Assignees",noLabels:"Label",labels:"Labels",noProjects:"Project",noMilestones:"Milestone",noIssueTypes:"Issue Type",filterOrganizations:"Filter organizations",organizationLabel:"Organization",selectAssignees:"Select assignees",selectMilestones:"Select milestone",selectIssueTypes:"Select issue type",selectProjects:"Select projects",selectLabels:"selectLabels",selectRepository:"Select repository",selectBranch:"Select a branch",selectPr:"Select a pull request",searchPr:"Search pull requests",maxPRsLinkingWarning:"You may only link 10 pull requests to this issue across all repositories.",filterUsers:"Filter users",filterMilestones:"Filter milestones",filterIssueTypes:"Filter issue types",filterProjects:"Filter projects",getNumberOfSelectedPrsLabel:e=>1===e?`${e} pull request selected`:`${e} pull requests selected`}},25599:(e,l,a)=>{a.d(l,{BI:()=>t.B,HO:()=>n.H,J5:()=>s.J,LM:()=>o.LM,Sg:()=>o.Sg,ah:()=>t.a,gY:()=>i.gY,hZ:()=>r.h});var t=a(23261),n=a(64035),r=a(56903),s=a(29236),i=a(98761);a(11448);var o=a(27392)},31190:(e,l,a)=>{a.r(l),a.d(l,{default:()=>n});let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],l=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkByQueryPayload",kind:"LinkedField",name:"updateIssuesBulkByQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectsBulkByQueryMutation",selections:l,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectsBulkByQueryMutation",selections:l},params:{id:"b3c56c101a97603233bebecea3252932",metadata:{},name:"addIssuesToProjectsBulkByQueryMutation",operationKind:"mutation",text:null}}}();t.hash="17307308625f16ad7c5aceab5ee6f126";let n=t},39513:(e,l,a)=>{a.r(l),a.d(l,{default:()=>n});let t=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],l=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuesBulkPayload",kind:"LinkedField",name:"updateIssuesBulk",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"jobId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addIssuesToProjectsBulkMutation",selections:l,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addIssuesToProjectsBulkMutation",selections:l},params:{id:"6908509fc024e1ab74ffec2140dcf167",metadata:{},name:"addIssuesToProjectsBulkMutation",operationKind:"mutation",text:null}}}();t.hash="63b0539aebe1a9b04411550192d240e1";let n=t},46679:(e,l,a)=>{a.d(l,{J7:()=>i,Vq:()=>s,o5:()=>r});var t=a(85529),n=a(27392);let r={leadingVisual:t.CircleSlashIcon,text:n.Sg.noMatches,disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"},s={leadingVisual:t.CircleSlashIcon,text:n.Sg.noResults,disabled:!0,selected:void 0,key:"no-results",id:"no-results"};function i(e,l,a){let t=e.indexOf("/"),n="in:name archived:false";if(a&&(n=`${n} -repo:${a}`),t>0&&2===e.split("/").length){let l=e.split("/")[0],a=e.split("/")[1];return`${n} org:${l} ${a}`}return l?`${n} org:${l} ${e}`:`${n} ${e}`}},63106:(e,l,a)=>{a.d(l,{Kr:()=>r,kl:()=>t});var t,n=a(67294);!function(e){e.ctrlKey="ctrlKey",e.altKey="altKey",e.shiftKey="shiftKey",e.metaKey="metaKey"}(t||(t={}));let r=(e,l,a)=>{let r=(0,n.useRef)(l);(0,n.useLayoutEffect)(()=>{r.current=l});let s=(0,n.useCallback)(l=>{!(function(){let e=[...document.querySelectorAll('#__primerPortalRoot__, [id$="-portal-root"]')];return e.some(function e(l){if(l.clientHeight>0)return!0;for(let a of l.children)if(e(a))return!0;return!1})}()&&!a?.triggerWhenPortalIsActive||!function(e,l){for(let a of Object.values(t))if(l&&l[a]&&!e[a]||e[a]&&(!l||!l[a]))return!1;return!0}(l,a)||!a?.triggerWhenInputElementHasFocus&&function(e){return e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement}(l))&&e.some(e=>/^\d$/.test(e)?l.code===`Digit${e}`:"/"===e?"Slash"===l.code:l.key===e)&&r.current(l)},[e,a]);(0,n.useEffect)(()=>{let e=a?.scopeRef?.current||document;return e.addEventListener("keydown",s),()=>e.removeEventListener("keydown",s)},[s,a?.scopeRef])}},89445:(e,l,a)=>{function t(e,l={}){if(e.match(/^(https?:|\/\/)/))throw Error("Can not make cross-origin requests from verifiedFetch");let a={...l.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...l,headers:a})}function n(e,l){let a=l?.headers??{},n={...a,Accept:"application/json","Content-Type":"application/json"},r=l?.body?JSON.stringify(l.body):void 0;return t(e,{...l,body:r,headers:n})}a.d(l,{Q:()=>t,v:()=>n})},69056:(e,l,a)=>{a.d(l,{q:()=>u});var t=a(85893),n=a(85529),r=a(42483),s=a(98833),i=a(97011),o=a(73290);function u({message:e,retry:l,sx:a}){return(0,t.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",gap:1,...a},children:[(0,t.jsx)(s.Z,{icon:n.AlertFillIcon,sx:{color:"attention.fg"}}),(0,t.jsx)(i.Z,{sx:{fontSize:0,color:"fg.muted"},children:e}),(0,t.jsx)(o.Z,{as:"button",underline:!0,onClick:l,sx:{fontSize:0},children:(0,t.jsx)(i.Z,{sx:{fontSize:0},children:"Try again"})})]})}try{u.displayName||(u.displayName="ErrorWithRetry")}catch{}},57294:(e,l,a)=>{a.d(l,{O:()=>i});var t=a(85893),n=a(67294),r=a(26012),s=a(86283);let i=(0,n.forwardRef)(function({src:e,size:l=20,...a},i){let o=(0,n.useMemo)(()=>{let a=new URL(e,s.ssrSafeLocation.origin);return a.searchParams.has("size")||a.searchParams.has("s")||a.searchParams.set("size",String(2*Number(l))),a.toString()},[e,l]);return(0,t.jsx)(r.Z,{ref:i,src:o,size:l,"data-testid":"github-avatar",...a})});try{i.displayName||(i.displayName="GitHubAvatar")}catch{}},64035:(e,l,a)=>{a.d(l,{H:()=>d});var t=a(85893),n=a(63106),r=a(23891),s=a(95136),i=a(67294),o=a(23261),u=a(46679);function d({items:e,initialSelectedItems:l,openHotkey:a,placeholderText:d,selectionVariant:c,loading:p,groups:m,filterItems:g,renderAnchor:y,getItemKey:k,convertToItemProps:h,onSelectionChange:f,onClose:b,height:P="small",width:j="small",selectPanelRef:S,enforceAtleastOneSelected:v,insidePortal:F,maxVisibleItems:C=9,nested:K=!1,resultListAriaLabel:x,title:I,subtitle:L,preventClose:T,triggerOpen:M=!1}){let[R,V]=(0,i.useState)(M),[N,w]=(0,i.useState)([]),[E,A]=(0,i.useState)(""),{updateOpenState:D,anyItemPickerOpen:q}=(0,o.a)(),z=(0,i.useId)(),B=(0,i.useCallback)(e=>{q()||R||(e.preventDefault(),e.stopPropagation(),V(!0))},[R,q]);(0,n.Kr)(a?[a]:[],B,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:F||!1}),(0,i.useEffect)(()=>{D(z,R)},[z,R,D]);let O=(0,i.useMemo)(()=>new Map,[z,l]),_=(0,i.useCallback)((e,l)=>{let a=k(e),t=O.get(a);if(t)return t;(t=h(e)).selected=l;let n=t.onAction;return t.onAction=(e,l)=>{let t=O.get(a);if(t){if(t.selected=!t.selected,"single"===c)for(let[,e]of O)e!==t&&(e.selected=!1);n&&n(e,l)}},O.set(a,t),t},[h,k,O,c]),U=(0,i.useCallback)(e=>"string"==typeof e?e:k(e),[k]),Q=(0,i.useMemo)(()=>{let a=e.map(e=>_(e,l.some(l=>U(l)===k(e))));return 0===a.length?E?[u.o5]:[u.Vq]:a},[e,_,l,U,k,E]);(0,i.useEffect)(()=>{w(Q.filter(e=>e.selected))},[Q]);let Z=(0,i.useMemo)(()=>"single"===c?N[0]:N,[N,c]),$=(0,i.useCallback)(e=>{if(void 0===e){v||w([]);return}let l=Array.isArray(e)?e:[e],a=l.map(e=>Q.find(l=>e.id===l.id)).filter(e=>void 0!==e);w(a)},[v,Q]),H=(0,i.useCallback)(e=>{if((!T||e)&&(V(e),!e)){A(""),b&&b();let e=[...O.values()].filter(e=>e.selected).map(e=>e.source),a=e.length!==l.length||e.some(e=>!l.some(l=>U(l)===k(e)));a&&f(e)}},[T,b,O,l,U,k,f]);(0,i.useEffect)(()=>{g(E)},[E,g]);let W=Q.length>0;1===Q.length&&(Q[0].id===u.o5.id||Q[0].id===u.Vq.id)&&(W=!1);let J=(0,i.useMemo)(()=>m&&m?.length>1&&W?{groupMetadata:m}:{},[m,W]),Y=Q.length<=C?"auto":P,G=(0,i.useMemo)(()=>({renderAnchor:y,placeholderText:d,open:R,onOpenChange:H,loading:p,items:Q,selected:Z,onSelectedChange:$,filterValue:E,onFilterChange:A,showItemDividers:!0,overlayProps:{width:j,height:Y},...J,"aria-label":x,title:I,subtitle:L}),[y,d,R,H,p,Q,Z,$,E,j,Y,J,x,I,L]);return K?(0,t.jsx)(r.R.NestedSelectPanel,{"data-testid":"item-picker-root",...G}):(0,t.jsx)(s.b,{"data-testid":"item-picker-root",anchorRef:S,...G})}try{d.displayName||(d.displayName="ItemPicker")}catch{}},98761:(e,l,a)=>{a.d(l,{g_:()=>C,_L:()=>x,UL:()=>K,gY:()=>F,JD:()=>v});var t=a(85893),n=a(63106),r=a(23891),s=a(85529),i=a(95136),o=a(67294),u=a(22578),d=a(27392),c=a(23261),p=a(46679),m=a(56903),g=a(29236),y=a(71115),k=a(75122),h=a(87634),f=a(46263);let b={groupId:"recent",header:{title:"Recent",variant:"filled"}},P={groupId:"repository",header:{title:"Repository",variant:"filled"}},j={groupId:"organization",header:{title:"Organization",variant:"filled"}},S={groupId:"selected"},v=a(25913),F=a(41459),C=({pickerId:e,useQueryForAction:l,repositoryId:t,query:n,issueIds:r,readonly:s,selectedProjects:i,firstSelectedProjectTitle:d,projectQueryRef:c,insidePortal:p,shortcutEnabled:m,anchorElement:g,onCompleted:y,onError:k,nested:h=!1,owner:f,repo:b})=>{let P=(0,u.useRelayEnvironment)(),j=(0,o.useCallback)(e=>{0!==e.length&&(l&&t&&n?function({environment:e,input:{query:l,repositoryId:t,addToProjectV2Ids:n},onCompleted:r,onError:s}){return(0,u.commitMutation)(e,{mutation:a(31190),variables:{input:{query:l,repositoryId:t,addToProjectV2Ids:n}},onCompleted:e=>r&&r(e),onError:e=>s&&s(e)})}({environment:P,input:{repositoryId:t,query:n,addToProjectV2Ids:e.map(e=>e.id)},onCompleted:({updateIssuesBulkByQuery:e})=>{y?.(e?.jobId||void 0)}}):function({environment:e,input:{ids:l,addToProjectV2Ids:t},onCompleted:n,onError:r}){return(0,u.commitMutation)(e,{mutation:a(39513),variables:{input:{ids:l,addToProjectV2Ids:t}},onCompleted:e=>n&&n(e),onError:e=>r&&r(e)})}({environment:P,input:{ids:[...r],addToProjectV2Ids:e.map(e=>e.id)},onCompleted:({updateIssuesBulk:e})=>{y?.(e?.jobId||void 0)},onError:e=>{k?.(e)}}))},[P,r,y,k,n,t,l]);return K({pickerId:e,readonly:s,selectedProjects:i,firstSelectedProjectTitle:d,projectQueryRef:c,insidePortal:p,shortcutEnabled:m,onSave:j,anchorElement:g,nested:h,owner:f,repo:b})};function K({projectQueryRef:e,...l}){let a=(0,u.usePreloadedQuery)(F,e);return a?(0,t.jsx)(L,{projectsData:a,...l}):null}function x(e){let[l,a]=(0,o.useState)(0),{createFallbackComponent:n}=(0,k.a)({errorMessage:"Cannot edit projects right now",anchorElement:e.anchorElement});return(0,t.jsx)(y.Z,{onRetry:()=>a(l+1),fallback:n,children:(0,t.jsx)(I,{...e,fetchKey:l})})}function I({repo:e,owner:l,fetchKey:a,...n}){let r=(0,u.useLazyLoadQuery)(F,{repo:e,owner:l},{fetchKey:a});return r?(0,t.jsx)(L,{projectsData:r,owner:l,repo:e,...n}):null}let L=({pickerId:e,readonly:l,selectedProjects:a,firstSelectedProjectTitle:y,projectsData:k,onSave:C,anchorElement:K,insidePortal:x,shortcutEnabled:I,nested:L=!1,owner:T,repo:M,triggerOpen:R=!1})=>{let[V,N]=(0,o.useState)(k),[w,E]=(0,o.useState)(null),[A,D]=(0,o.useState)(!1),q=(0,u.useRelayEnvironment)(),{addToast:z}=(0,h.V6)(),[B,O]=(0,o.useState)(""),_=(0,o.useCallback)(e=>{D(!0);let l=(0,u.fetchQuery)(q,F,{repo:M,owner:T,query:e}).subscribe({next:e=>{null!==e&&N(e),D(!1)},error:()=>{D(!1),z({type:"error",message:d.Sg.couldNotSearchProjects})}});E(l)},[z,T,q,M]),U=(0,o.useCallback)((0,f.D)(e=>_(e),200),[_]);(0,o.useEffect)(()=>(0===B.length?N(k):U(B),w?.unsubscribe(),()=>{D(!1)}),[U,B,k]);let Q=(0,o.useMemo)(()=>(V.repository?.owner.recentProjects?.edges||[]).flatMap(e=>e?.node?[(0,u.readInlineData)(v,e.node)].filter(e=>!1===e.closed):[]),[V]),Z=(0,o.useMemo)(()=>(V.repository?.projectsV2?.nodes||[]).flatMap(e=>e?[(0,u.readInlineData)(v,e)].filter(e=>!1===e.closed):[]),[V]),$=(0,o.useMemo)(()=>(V.repository?.owner?.projectsV2?.edges||[]).flatMap(e=>e?.node?[(0,u.readInlineData)(v,e.node)].filter(e=>!1===e.closed):[]),[V]),[H,W]=(0,o.useState)(a.map(e=>e.id));(0,o.useEffect)(()=>{W(a.map(e=>e.id))},[a,e]);let J=(0,o.useCallback)((e,l)=>{let{title:a,id:t}=l,n={text:a,id:t,groupId:e,selected:H.includes(t),disabled:!l.viewerCanUpdate};return n},[H]),Y=(0,o.useMemo)(()=>({selected:a,recent:Q.filter(e=>!H.includes(e.id)),repository:Z.filter(e=>!H.includes(e.id)),organization:$.filter(e=>!H.includes(e.id))}),[a,Q,Z,$]),G=(0,o.useMemo)(()=>Object.keys(Y).flatMap(e=>Y[e].map(l=>J(e,l))),[Y,J]),X=(0,o.useMemo)(()=>G.filter(e=>e.id&&H.includes(e.id.toString())),[H,G]),ee=(0,o.useMemo)(()=>{if(G.length<1)return[p.Vq];if(""===B)return G;let e=G.filter(e=>e.text?.toLowerCase().includes(B.toLowerCase()));return e.length<1?[p.o5]:e},[B,G]),el=(0,o.useMemo)(()=>ee.includes(p.o5)||ee.includes(p.Vq)?[]:[a.length>0?S:null,Q.length>0?b:null,Z.length>0?P:null,$.length>0?j:null].filter(e=>null!==e),[ee,a.length,Q.length,Z.length,$.length]),ea=(0,o.useCallback)(e=>{let l=X.filter(l=>!e.includes(l)).map(e=>e.id),a=H,t=e.filter(e=>void 0!==e.id).map(e=>e.id);a=[...a,...t],l.length>0&&(a=a.filter(e=>!l.includes(e)));let n=new Set(a.map(e=>e.toString()));W([...n])},[W,X,H]),{updateOpenState:et,anyItemPickerOpen:en}=(0,c.a)(),[er,es]=(0,o.useState)(R),ei=(0,o.useCallback)(l=>{if(es(l),et(e,l),!l){O("");let e=H.flatMap(e=>Object.keys(Y).flatMap(e=>Y[e]).find(l=>l.id===e)||[]);C(e.filter(e=>void 0!==e))}},[et,e,O,H,C,Y]),eo=(0,o.useCallback)(e=>{!I||en()||er||(e.preventDefault(),e.stopPropagation(),ei(!0))},[en,er,ei,I]);(0,n.Kr)([d.LM.projectPicker],eo,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:x});let eu=(0,o.useCallback)(e=>K?K(e):y?(0,t.jsx)(g.J,{label:d.wS.noProjects,sharedPickerMainValue:y,anchorProps:e,ariaLabel:d.wS.selectProjects,readonly:l,nested:L}):(0,t.jsx)(m.h,{leadingIcon:s.TableIcon,hotKey:!l&&I?d.LM.projectPicker.toUpperCase():void 0,label:d.wS.noProjects,anchorProps:e,readonly:l}),[K,y,L,l,I]),ed=(0,o.useMemo)(()=>({renderAnchor:eu,placeholderText:d.wS.filterProjects,items:ee,selected:X,open:er,onOpenChange:ei,onSelectedChange:ea,filterValue:B,onFilterChange:O,showItemDividers:!0,overlayProps:{width:"medium",height:ee.length<=2?"auto":"large"},groupMetadata:el&&ee.length>0?el:void 0,"aria-label":"Project results",loading:A,title:d.wS.selectProjects}),[B,ee,el,ea,er,ei,eu,A,X]);return L?(0,t.jsx)(r.R.NestedSelectPanel,{"data-testid":"item-picker-root",...ed}):(0,t.jsx)(i.b,{"data-testid":"item-picker-root",...ed})};try{C.displayName||(C.displayName="BulkProjectPicker")}catch{}try{K.displayName||(K.displayName="ProjectPicker")}catch{}try{x.displayName||(x.displayName="LazyProjectPicker")}catch{}try{I.displayName||(I.displayName="LazyProjectPickerInternal")}catch{}try{L.displayName||(L.displayName="ProjectPickerInternal")}catch{}},56903:(e,l,a)=>{a.d(l,{h:()=>i});var t=a(85893),n=a(88216),r=a(42483),s=a(23891);let i=({leadingIcon:e,hotKey:l,label:a,anchorProps:i,readonly:o,nested:u})=>{let d={"aria-disabled":o,disabled:o};return u?(0,t.jsx)(s.R.MenuItemAnchor,{leadingVisual:e,...i,...d,children:a}):(0,t.jsx)(n.r,{sx:{borderStyle:"dashed",fontWeight:"normal",color:"fg.muted"},size:"small",leadingVisual:e,trailingVisual:l?()=>(0,t.jsx)(r.Z,{sx:{color:"fg.muted",borderWidth:1,borderStyle:"solid",borderColor:"border.default",p:"0px 4px",borderRadius:"6px"},children:l}):void 0,...d,...i,children:a})};try{i.displayName||(i.displayName="SharedEmptyPicker")}catch{}},29236:(e,l,a)=>{a.d(l,{J:()=>i});var t=a(85893),n=a(88216),r=a(42483),s=a(23891);let i=({leadingIconElement:e,label:l,anchorProps:a,sharedPickerMainValue:i,ariaLabel:o,readonly:u,size:d,nested:c=!1})=>{let p={"aria-label":o,"aria-disabled":u,disabled:u};return c?(0,t.jsx)(s.R.MenuItemAnchor,{leadingVisual:e,...a,...p,children:l}):(0,t.jsx)(n.r,{size:d||"small",...a,...p,children:(0,t.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[(0,t.jsx)(r.Z,{sx:{color:"fg.muted",fontWeight:"normal"},children:l}),(0,t.jsx)(r.Z,{sx:{display:e?"flex":"none",alignItems:"center",justifyContent:"center","> *:not(:last-child)":{mr:"-3px"}},children:e}),(0,t.jsx)(r.Z,{sx:{fontWeight:"bold"},children:i})]})})};try{i.displayName||(i.displayName="SharedPicker")}catch{}},75122:(e,l,a)=>{a.d(l,{a:()=>o});var t=a(85893),n=a(67294),r=a(2708),s=a(42483),i=a(69056);function o({errorMessage:e,anchorElement:l}){let[a,o]=(0,n.useState)(!1),u=(0,n.useCallback)(n=>l?(0,t.jsx)(r.w,{width:"medium",height:"small",open:a,onOpen:()=>o(!0),onClose:()=>o(!1),renderAnchor:l,children:(0,t.jsx)(s.Z,{sx:{m:1,display:"flex",justifyContent:"center",height:"100%"},children:(0,t.jsx)(i.q,{message:e,retry:n,sx:{p:2}})})}):null,[l,e,a]);return{createFallbackComponent:u}}},23261:(e,l,a)=>{a.d(l,{B:()=>s,a:()=>i});var t=a(85893),n=a(67294);let r=(0,n.createContext)({updateOpenState:()=>void 0,anyItemPickerOpen:()=>!1});function s({children:e}){let l=(0,n.useRef)({}),a=(0,n.useCallback)((e,a)=>{let t=l.current;return t[e]===a||(l.current={...t,[e]:a}),l.current},[]),s=(0,n.useCallback)(()=>Object.values(l.current).some(e=>e),[l]),i=(0,n.useMemo)(()=>({updateOpenState:a,anyItemPickerOpen:s}),[s,a]);return(0,t.jsx)(r.Provider,{value:i,children:e})}function i(){let e=(0,n.useContext)(r);if(!e)throw Error("useItemPickersContext must be used within a ItemPickersContextProvider.");return e}try{r.displayName||(r.displayName="ItemPickersContext")}catch{}try{s.displayName||(s.displayName="ItemPickersContextProvider")}catch{}},71115:(e,l,a)=>{a.d(l,{Z:()=>n});var t,n,r=a(85893),s=a(67294),i=a(24601);(t=class PreloadedQueryBoundary extends s.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){(0,i.eK)(e)}render(){let{children:e,fallback:l}=this.props,{error:a}=this.state;return a?l(this._retry,a):e}constructor(...e){super(...e),this.state={error:null},this._retry=()=>{this.props.onRetry(),this.setState({error:null})}}}).defaultProps={fallback:e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Error:"}),(0,r.jsx)("button",{onClick:e,children:"Retry"})]})},n=t}}]);
//# sourceMappingURL=ui_packages_item-picker_index_ts-ui_packages_verified-fetch_verified-fetch_ts-ui_packages_git-a41878-82504ccf0769.js.map